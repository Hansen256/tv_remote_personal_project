<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Control your TV and entertainment devices seamlessly from your mobile device using Bluetooth">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TV Remote">
    <title>Bluetooth TV Remote</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.tailwindcss.com/forms.min.js"></script>
    
    <!-- Material Symbols Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0..1,0">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Noto+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- External Styles -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body class="dark bg-black text-white">
    <div id="app">
        
        <!-- Onboarding View -->
        <div id="onboarding" class="view-container">
            <div class="h-screen flex flex-col justify-between p-6 max-w-md mx-auto">
                <div class="flex justify-end">
                    <button data-action="skip" title="Skip onboarding tutorial" class="text-gray-400 hover:text-white transition-all duration-150 active:scale-95">Skip</button>
                </div>
                
                <div class="flex-1 flex flex-col items-center justify-center">
                    <!-- Carousel with slides -->
                    <div class="w-full">
                        <!-- Slide 1 -->
                        <div data-slide="0" class="text-center">
                            <div class="w-full h-64 bg-gradient-to-b from-blue-600 to-transparent rounded-2xl mb-8 flex items-center justify-center">
                                <span class="material-symbols-outlined text-6xl text-white">settings_remote</span>
                            </div>
                            <h2 class="text-3xl font-bold mb-4">Control Everything</h2>
                            <p class="text-gray-400">Use your phone as a universal remote for your TV and devices</p>
                        </div>
                        
                        <!-- Slide 2 (hidden by default) -->
                        <div data-slide="1" class="hidden text-center">
                            <div class="w-full h-64 bg-gradient-to-b from-green-600 to-transparent rounded-2xl mb-8 flex items-center justify-center">
                                <span class="material-symbols-outlined text-6xl text-white">bluetooth</span>
                            </div>
                            <h2 class="text-3xl font-bold mb-4">Instant Connection</h2>
                            <p class="text-gray-400">Connect via Bluetooth for seamless control</p>
                        </div>
                        
                        <!-- Slide 3 (hidden by default) -->
                        <div data-slide="2" class="hidden text-center">
                            <div class="w-full h-64 bg-gradient-to-b from-purple-600 to-transparent rounded-2xl mb-8 flex items-center justify-center">
                                <span class="material-symbols-outlined text-6xl text-white">tune</span>
                            </div>
                            <h2 class="text-3xl font-bold mb-4">Customize Your Experience</h2>
                            <p class="text-gray-400">Personalize buttons and settings to your preference</p>
                        </div>
                        
                        <!-- Slide 4 (hidden by default) -->
                        <div data-slide="3" class="hidden text-center">
                            <div class="w-full h-64 bg-gradient-to-b from-orange-600 to-transparent rounded-2xl mb-8 flex items-center justify-center">
                                <span class="material-symbols-outlined text-6xl text-white">check_circle</span>
                            </div>
                            <h2 class="text-3xl font-bold mb-4">You're Ready</h2>
                            <p class="text-gray-400">Let's pair your first device</p>
                        </div>
                    </div>
                </div>
                
                <!-- Pagination dots -->
                <div class="flex justify-center gap-2 mb-8">
                    <button data-slide-indicator="0" title="Go to onboarding slide one" class="w-2 h-2 rounded-full bg-blue-600 transition-all duration-150 active:scale-95 focus:outline-2 focus:outline-offset-2 focus:outline-blue-400"></button>
                    <button data-slide-indicator="1" title="Go to onboarding slide two" class="w-2 h-2 rounded-full bg-gray-600 transition-all duration-150 active:scale-95 focus:outline-2 focus:outline-offset-2 focus:outline-blue-400"></button>
                    <button data-slide-indicator="2" title="Go to onboarding slide three" class="w-2 h-2 rounded-full bg-gray-600 transition-all duration-150 active:scale-95 focus:outline-2 focus:outline-offset-2 focus:outline-blue-400"></button>
                    <button data-slide-indicator="3" title="Go to onboarding slide four" class="w-2 h-2 rounded-full bg-gray-600 transition-all duration-150 active:scale-95 focus:outline-2 focus:outline-offset-2 focus:outline-blue-400"></button>
                </div>
                
                <button data-action="next-slide" title="Continue to next onboarding step" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-all duration-150 active:scale-95">
                    Next Step
                </button>
            </div>
        </div>
        
        <!-- Device Connection View -->
        <div id="device-connection" class="view-container">
            <div class="p-6 max-w-md mx-auto">
                <h1 class="text-2xl font-bold mb-8">Connect a Device</h1>
                
                <!-- Searching animation -->
                <div data-scanning class="text-center mb-8 hidden" role="status" aria-busy="true" aria-live="polite">
                    <div class="w-24 h-24 mx-auto mb-4 relative">
                        <div class="absolute inset-0 border-2 border-gray-700 rounded-full animate-pulse"></div>
                        <div class="absolute inset-2 border-2 border-gray-600 rounded-full animate-pulse pulse-delay"></div>
                        <div class="flex items-center justify-center h-full">
                            <span class="material-symbols-outlined text-4xl text-blue-600">radar</span>
                        </div>
                    </div>
                    <p class="text-gray-400">Searching for Remotes...</p>
                </div>
                
                <!-- Discovered devices -->
                <div data-discovered-devices class="space-y-3 mb-8">
                    <!-- Devices will be rendered here -->
                </div>
                
                <button data-action="connect" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-all duration-150 active:scale-95 mb-4">
                    Connect Device
                </button>
                
                <button class="w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-lg transition-all duration-150 active:scale-95">
                    Enter Code Manually
                </button>
            </div>
        </div>
        
        <!-- Device List View -->
        <div id="device-list" class="view-container">
            <div class="p-6 max-w-md mx-auto pb-32">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="text-2xl font-bold">My Remotes</h1>
                    <button data-action="edit-devices" class="text-blue-600 hover:text-blue-400 transition-all duration-150 active:scale-95">Edit</button>
                </div>
                
                <!-- Active device -->
                <div class="mb-8">
                    <h3 class="text-sm font-semibold text-gray-400 mb-4">Active Device</h3>
                    <div data-active-device>
                        <!-- Active device card will be rendered here -->
                    </div>
                </div>
                
                <!-- Saved devices -->
                <div>
                    <h3 class="text-sm font-semibold text-gray-400 mb-4">Saved Devices</h3>
                    <div data-saved-devices class="space-y-2">
                        <!-- Device list will be rendered here -->
                    </div>
                </div>
                
                <!-- Floating pair button -->
                <button data-action="pair-new" class="fixed bottom-8 left-1/2 transform -translate-x-1/2 max-w-xs w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-all duration-150 active:scale-95">
                    + Pair New Device
                </button>
            </div>
        </div>
        
        <!-- Main Remote Control View -->
        <div id="main-remote" class="view-container">
            <div class="p-6 max-w-md mx-auto">
                <!-- Header -->
                <div class="flex justify-between items-center mb-8">
                    <div>
                        <h1 data-device-name class="text-xl font-bold">Remote</h1>
                        <p data-connection-status class="text-xs text-gray-400">Connected</p>
                    </div>
                    <div class="text-right">
                        <div class="flex items-center gap-2">
                            <span class="material-symbols-outlined text-sm text-gray-400">battery_full</span>
                            <span data-battery-level class="text-xs text-gray-400">--</span>
                        </div>
                    </div>
                </div>
                
                <!-- D-Pad -->
                <div class="flex justify-center mb-8">
                    <div class="relative w-32 h-32">
                        <button data-dpad-button="up" title="Navigate or scroll up" class="absolute top-0 left-12 w-8 h-8 bg-gray-700 hover:bg-gray-600 rounded transition-all duration-150 active:scale-95">
                            <span class="material-symbols-outlined text-lg">arrow_upward</span>
                        </button>
                        <button data-dpad-button="left" title="Navigate or scroll left" class="absolute top-12 left-0 w-8 h-8 bg-gray-700 hover:bg-gray-600 rounded transition-all duration-150 active:scale-95">
                            <span class="material-symbols-outlined text-lg">arrow_back</span>
                        </button>
                        <button data-dpad-button="center" title="Confirm or select current option" class="absolute top-12 left-12 w-8 h-8 bg-blue-600 hover:bg-blue-700 rounded-full transition-all duration-150 active:scale-95 flex items-center justify-center">
                            <span class="material-symbols-outlined text-lg">check</span>
                        </button>
                        <button data-dpad-button="right" title="Navigate or scroll right" class="absolute top-12 left-24 w-8 h-8 bg-gray-700 hover:bg-gray-600 rounded transition-all duration-150 active:scale-95">
                            <span class="material-symbols-outlined text-lg">arrow_forward</span>
                        </button>
                        <button data-dpad-button="down" title="Navigate or scroll down" class="absolute top-24 left-12 w-8 h-8 bg-gray-700 hover:bg-gray-600 rounded transition-all duration-150 active:scale-95">
                            <span class="material-symbols-outlined text-lg">arrow_downward</span>
                        </button>
                    </div>
                </div>
                
                <!-- Quick actions -->
                <div class="grid grid-cols-3 gap-3 mb-8">
                    <button data-quick-action="back" title="Go back to previous screen" class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-lg transition-all duration-150 active:scale-95">
                        <span class="material-symbols-outlined text-lg">arrow_back</span>
                    </button>
                    <button data-quick-action="home" title="Return to home screen" class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-lg transition-all duration-150 active:scale-95">
                        <span class="material-symbols-outlined text-lg">home</span>
                    </button>
                    <button data-quick-action="menu" title="Open main menu options" class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-lg transition-all duration-150 active:scale-95">
                        <span class="material-symbols-outlined text-lg">menu</span>
                    </button>
                </div>
                
                <!-- Volume control -->
                <div class="mb-8">
                    <label class="block text-sm font-semibold mb-2">Volume</label>
                    <div class="flex items-center gap-3">
                        <button data-volume-button="down" title="Decrease volume (hold to ramp)" class="bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg transition-all duration-150 active:scale-95">
                            <span class="material-symbols-outlined text-lg">volume_down</span>
                        </button>
                        <input type="range" data-volume-slider aria-label="Volume level control" class="flex-1" min="0" max="100" value="50">
                        <button data-volume-button="up" title="Increase volume (hold to ramp)" class="bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg transition-all duration-150 active:scale-95">
                            <span class="material-symbols-outlined text-lg">volume_up</span>
                        </button>
                    </div>
                    <p data-volume-display class="text-xs text-gray-400 text-center mt-2">50%</p>
                </div>
                
                <!-- Playback controls -->
                <div class="mb-8">
                    <div class="grid grid-cols-5 gap-2">
                        <button data-playback-control="replay-10s" title="Skip back ten seconds" class="bg-gray-700 hover:bg-gray-600 py-2 rounded text-xs transition-all duration-150 active:scale-95">-10s</button>
                        <button data-playback-control="previous" title="Play previous track or item" class="bg-gray-700 hover:bg-gray-600 py-2 rounded transition-all duration-150 active:scale-95">
                            <span class="material-symbols-outlined text-lg">skip_previous</span>
                        </button>
                        <button data-playback-control="play-pause" title="Play or resume content" class="bg-blue-600 hover:bg-blue-700 py-2 rounded transition-all duration-150 active:scale-95">
                            <span class="material-symbols-outlined text-lg">play_arrow</span>
                        </button>
                        <button data-playback-control="next" title="Play next track or item" class="bg-gray-700 hover:bg-gray-600 py-2 rounded transition-all duration-150 active:scale-95">
                            <span class="material-symbols-outlined text-lg">skip_next</span>
                        </button>
                        <button data-playback-control="forward-10s" title="Skip forward ten seconds" class="bg-gray-700 hover:bg-gray-600 py-2 rounded text-xs transition-all duration-150 active:scale-95">+10s</button>
                    </div>
                </div>
                
                <!-- Shortcuts -->
                <div class="mb-8">
                    <div class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-lg transition text-center cursor-pointer">
                        Netflix
                    </div>
                </div>
                
                <!-- Power button -->
                <button data-power-button title="Power off connected device" class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-4 rounded-lg transition-all duration-150 active:scale-95">
                    Power Off
                </button>
            </div>
        </div>
        
        <!-- Settings View -->
        <div id="settings" class="view-container">
            <div class="p-6 max-w-md mx-auto pb-32">
                <h1 class="text-2xl font-bold mb-8">Settings</h1>
                
                <!-- Device Status -->
                <div class="device-card mb-8">
                    <h3 class="font-semibold mb-2">Remote Status</h3>
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-gray-400">Device</span>
                        <span class="font-semibold">Remote X-200</span>
                    </div>
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-gray-400">Connection</span>
                        <span class="text-green-400">Connected</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-gray-400">Battery</span>
                        <span>85%</span>
                    </div>
                </div>
                
                <!-- Settings -->
                <div class="space-y-6">
                    <!-- Haptic Feedback -->
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="font-semibold">Haptic Feedback</h3>
                            <p class="text-xs text-gray-400">Vibration on button press</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" data-setting="haptic-feedback" aria-label="Enable haptic feedback vibration" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <!-- Cursor Sensitivity -->
                    <div>
                        <h3 class="font-semibold mb-2">Cursor Sensitivity</h3>
                        <input type="range" data-setting="cursor-sensitivity" aria-label="Adjust cursor sensitivity level" class="w-full" min="0" max="100" value="75">
                        <p class="text-xs text-gray-400 mt-1">75%</p>
                    </div>
                    
                    <!-- Invert Y-Axis -->
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="font-semibold">Invert Y-Axis</h3>
                            <p class="text-xs text-gray-400">Flip up/down controls</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" data-setting="invert-y-axis" aria-label="Invert vertical axis controls">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <!-- Command History -->
                <div class="mt-8">
                    <h3 class="font-semibold mb-4">Recent Commands</h3>
                    <div data-command-history class="bg-gray-800 rounded-lg p-4 max-h-48 overflow-y-auto">
                        <p class="text-gray-400 text-sm text-center">No commands yet</p>
                    </div>
                    <button data-action="clear-history" class="w-full mt-2 bg-gray-700 hover:bg-gray-600 text-white text-sm py-2 rounded-lg transition-all duration-150 active:scale-95">
                        Clear History
                    </button>
                </div>
                
                <!-- Reset Button -->
                <button data-action="reset-defaults" title="Reset all settings to default values" class="w-full mt-12 bg-red-900 hover:bg-red-800 text-white font-semibold py-3 rounded-lg transition-all duration-150 active:scale-95">
                    Reset to Defaults
                </button>
            </div>
        </div>
    </div>
    
    <!-- Confirmation Modal -->
    <div id="confirmation-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center" role="dialog" aria-modal="true" aria-labelledby="modal-message">
        <div class="bg-gray-800 p-6 rounded-lg max-w-sm w-full mx-4 shadow-lg">
            <p id="modal-message" class="text-white mb-4"></p>
            <div class="flex justify-end space-x-2">
                <button id="modal-cancel" class="px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded transition" tabindex="0">Cancel</button>
                <button id="modal-confirm" class="px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded transition" tabindex="0">Confirm</button>
            </div>
        </div>
    </div>
    
    <!-- Rename Device Modal -->
    <div id="rename-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center" role="dialog" aria-modal="true">
        <div class="bg-gray-800 p-6 rounded-lg max-w-sm w-full mx-4 shadow-lg">
            <h3 class="text-white text-lg font-semibold mb-4">Rename Device</h3>
            <input type="text" id="rename-input" class="w-full px-3 py-2 bg-gray-700 text-white rounded border border-gray-600 focus:border-blue-500 focus:outline-none mb-4" placeholder="Enter new name" maxlength="50">
            <div class="flex justify-end space-x-2">
                <button id="rename-cancel" class="px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded transition" tabindex="0">Cancel</button>
                <button id="rename-confirm" class="px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition" tabindex="0">Save</button>
            </div>
        </div>
    </div>
    
    <!-- JavaScript Modules -->
    <script type="module" src="js/core/app.js"></script>
</body>
</html>
